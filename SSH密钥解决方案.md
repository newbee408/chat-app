# ðŸ”‘ SSHå¯†é’¥é—®é¢˜è§£å†³æ–¹æ¡ˆ

## å½“å‰æƒ…å†µ
ä½ çš„ç”µè„‘ä¸Šæ²¡æœ‰æ‰¾åˆ°SSHå¯†é’¥æ–‡ä»¶ï¼ˆ.pem æˆ– .ppkï¼‰

---

## ðŸŽ¯ è§£å†³æ–¹æ¡ˆï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

### æ–¹æ¡ˆ1ï¼šä»Žäº‘æœåŠ¡å•†èŽ·å–å¯†é’¥ï¼ˆæŽ¨èï¼‰

ä½ çš„æœåŠ¡å™¨IPæ˜¯ **38.123.103.120**ï¼Œéœ€è¦ä»Žäº‘æœåŠ¡å•†é‚£é‡ŒèŽ·å–SSHå¯†é’¥ã€‚

#### å¦‚æžœæ˜¯é˜¿é‡Œäº‘ï¼š
1. ç™»å½•é˜¿é‡Œäº‘æŽ§åˆ¶å°: https://ecs.console.aliyun.com/
2. å·¦ä¾§èœå• â†’ ç½‘ç»œä¸Žå®‰å…¨ â†’ å¯†é’¥å¯¹
3. æ‰¾åˆ°ä¸ŽæœåŠ¡å™¨ç»‘å®šçš„å¯†é’¥
4. å¦‚æžœä¹‹å‰ä¸‹è½½è¿‡ï¼Œåœ¨æœ¬åœ°æœç´¢ `.pem` æ–‡ä»¶
5. å¦‚æžœæ²¡æœ‰ï¼Œéœ€è¦åˆ›å»ºæ–°å¯†é’¥å¯¹å¹¶ç»‘å®šåˆ°æœåŠ¡å™¨

#### å¦‚æžœæ˜¯è…¾è®¯äº‘ï¼š
1. ç™»å½•è…¾è®¯äº‘æŽ§åˆ¶å°: https://console.cloud.tencent.com/cvm
2. å·¦ä¾§èœå• â†’ SSHå¯†é’¥
3. ä¸‹è½½å¯¹åº”çš„å¯†é’¥æ–‡ä»¶

#### å¦‚æžœæ˜¯AWSï¼š
1. ç™»å½•AWSæŽ§åˆ¶å°
2. EC2 â†’ Key Pairs
3. ä¸‹è½½ .pem æ–‡ä»¶

#### å¦‚æžœæ˜¯å…¶ä»–äº‘æœåŠ¡å•†ï¼š
- æŸ¥æ‰¾"SSHå¯†é’¥"ã€"å¯†é’¥å¯¹"ã€"Key Pair"ç­‰é€‰é¡¹
- ä¸‹è½½ç§é’¥æ–‡ä»¶

---

### æ–¹æ¡ˆ2ï¼šä½¿ç”¨å¯†ç ç™»å½•ï¼ˆå¦‚æžœçŸ¥é“å¯†ç ï¼‰

å¦‚æžœä½ çš„æœåŠ¡å™¨è®¾ç½®äº†rootå¯†ç ï¼Œå¯ä»¥ç›´æŽ¥ç”¨å¯†ç ç™»å½•ã€‚

#### WinSCPé…ç½®ï¼š
```
æ–‡ä»¶åè®®: SFTP
ä¸»æœºå: 38.123.103.120
ç«¯å£: 22
ç”¨æˆ·å: root
å¯†ç : [è¾“å…¥ä½ çš„å¯†ç ]
```

**ä¸éœ€è¦é…ç½®SSHå¯†é’¥**ï¼Œç›´æŽ¥ç‚¹ç™»å½•å³å¯ã€‚

---

### æ–¹æ¡ˆ3ï¼šç”Ÿæˆæ–°çš„SSHå¯†é’¥å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨

å¦‚æžœä½ èƒ½é€šè¿‡å…¶ä»–æ–¹å¼ï¼ˆå¦‚äº‘æœåŠ¡å•†çš„WebæŽ§åˆ¶å°ï¼‰ç™»å½•æœåŠ¡å™¨ï¼Œå¯ä»¥æ·»åŠ æ–°å¯†é’¥ã€‚

#### ç¬¬1æ­¥ï¼šåœ¨æœ¬åœ°ç”ŸæˆSSHå¯†é’¥

æ‰“å¼€PowerShellæ‰§è¡Œï¼š
```powershell
ssh-keygen -t rsa -b 4096 -f "$HOME\.ssh\id_rsa"
```

æŒ‰æç¤ºæ“ä½œï¼š
- è¯¢é—®ä¿å­˜ä½ç½®ï¼šç›´æŽ¥å›žè½¦ï¼ˆä½¿ç”¨é»˜è®¤ï¼‰
- è¯¢é—®å¯†ç ï¼šç›´æŽ¥å›žè½¦ï¼ˆä¸è®¾å¯†ç ï¼‰

#### ç¬¬2æ­¥ï¼šæŸ¥çœ‹å…¬é’¥å†…å®¹
```powershell
Get-Content "$HOME\.ssh\id_rsa.pub"
```

å¤åˆ¶è¾“å‡ºçš„å†…å®¹ï¼ˆä»¥ `ssh-rsa` å¼€å¤´çš„ä¸€é•¿ä¸²ï¼‰

#### ç¬¬3æ­¥ï¼šæ·»åŠ åˆ°æœåŠ¡å™¨

é€šè¿‡äº‘æœåŠ¡å•†çš„WebæŽ§åˆ¶å°æˆ–VNCç™»å½•æœåŠ¡å™¨ï¼Œæ‰§è¡Œï¼š
```bash
mkdir -p ~/.ssh
echo "ç²˜è´´ä½ çš„å…¬é’¥å†…å®¹" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
chmod 700 ~/.ssh
```

#### ç¬¬4æ­¥ï¼šä½¿ç”¨WinSCPè¿žæŽ¥

é…ç½®ç§é’¥æ–‡ä»¶è·¯å¾„ï¼š
```
C:\Users\Administrator\.ssh\id_rsa
```

---

### æ–¹æ¡ˆ4ï¼šä½¿ç”¨äº‘æœåŠ¡å•†çš„Webç»ˆç«¯ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

å¤§å¤šæ•°äº‘æœåŠ¡å•†æä¾›Webç‰ˆç»ˆç«¯ï¼Œå¯ä»¥ç›´æŽ¥åœ¨æµè§ˆå™¨ä¸­æ“ä½œã€‚

#### æ­¥éª¤ï¼š
1. ç™»å½•äº‘æœåŠ¡å•†æŽ§åˆ¶å°
2. æ‰¾åˆ°ä½ çš„æœåŠ¡å™¨å®žä¾‹
3. ç‚¹å‡»"è¿œç¨‹è¿žæŽ¥"ã€"Webç»ˆç«¯"ã€"VNC"ç­‰æŒ‰é’®
4. åœ¨Webç»ˆç«¯ä¸­æ‰‹åŠ¨æ‰§è¡Œéƒ¨ç½²å‘½ä»¤

#### åœ¨Webç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /root/chat-app/public
cd /root/chat-app

# åˆ›å»ºpackage.json
cat > package.json << 'EOF'
{
  "name": "chat-app",
  "version": "1.0.0",
  "main": "server.js",
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {
    "express": "^5.2.1",
    "socket.io": "^4.8.3"
  }
}
EOF

# å®‰è£…ä¾èµ–
npm install --production

# å®‰è£…PM2
npm install -g pm2
```

ç„¶åŽéœ€è¦æ‰‹åŠ¨åˆ›å»ºå…¶ä»–æ–‡ä»¶ï¼ˆserver.js, index.htmlç­‰ï¼‰ã€‚

**ç¼ºç‚¹**ï¼šéœ€è¦æ‰‹åŠ¨å¤åˆ¶ç²˜è´´æ‰€æœ‰ä»£ç ï¼Œæ¯”è¾ƒç¹çã€‚

---

### æ–¹æ¡ˆ5ï¼šä½¿ç”¨Gitéƒ¨ç½²ï¼ˆæœ€ä¼˜é›…ï¼‰

å¦‚æžœä½ æœ‰GitHubæˆ–Giteeè´¦å·ï¼Œè¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼ã€‚

#### ç¬¬1æ­¥ï¼šåœ¨æœ¬åœ°åˆå§‹åŒ–Gitä»“åº“

æ‰“å¼€PowerShellï¼Œåœ¨chat-appç›®å½•æ‰§è¡Œï¼š
```powershell
cd "$HOME\Desktop\chat-app"
git init
git add .
git commit -m "Initial commit"
```

#### ç¬¬2æ­¥ï¼šæŽ¨é€åˆ°GitHub

1. åœ¨GitHubä¸Šåˆ›å»ºæ–°ä»“åº“: https://github.com/new
2. ä»“åº“åï¼šchat-app
3. è®¾ä¸ºPublicï¼ˆå…¬å¼€ï¼‰
4. ä¸è¦å‹¾é€‰ä»»ä½•åˆå§‹åŒ–é€‰é¡¹
5. åˆ›å»ºåŽï¼ŒæŒ‰ç…§æç¤ºæ‰§è¡Œï¼š

```powershell
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/chat-app.git
git branch -M main
git push -u origin main
```

#### ç¬¬3æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šå…‹éš†

é€šè¿‡äº‘æœåŠ¡å•†Webç»ˆç«¯ç™»å½•æœåŠ¡å™¨ï¼Œæ‰§è¡Œï¼š
```bash
cd /root
git clone https://github.com/ä½ çš„ç”¨æˆ·å/chat-app.git
cd chat-app
npm install --production
npm install -g pm2
pm2 start ecosystem.config.json
pm2 save
sudo ufw allow 8080/tcp
```

---

## ðŸŽ¯ æˆ‘çš„æŽ¨è

**æœ€ç®€å•çš„é¡ºåº**ï¼š

1. **é¦–é€‰**ï¼šæ–¹æ¡ˆ5ï¼ˆGitéƒ¨ç½²ï¼‰- æœ€ä¼˜é›…ï¼Œä»¥åŽæ›´æ–°ä¹Ÿæ–¹ä¾¿
2. **æ¬¡é€‰**ï¼šæ–¹æ¡ˆ1ï¼ˆæ‰¾åˆ°å¯†é’¥æ–‡ä»¶ï¼‰- æœ€æ­£è§„
3. **å¤‡é€‰**ï¼šæ–¹æ¡ˆ2ï¼ˆå¯†ç ç™»å½•ï¼‰- æœ€ç›´æŽ¥
4. **ä¸´æ—¶**ï¼šæ–¹æ¡ˆ4ï¼ˆWebç»ˆç«¯ï¼‰- èƒ½ç”¨ä½†éº»çƒ¦

---

## ðŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**è¯·å‘Šè¯‰æˆ‘**ï¼š

1. **ä½ çš„äº‘æœåŠ¡å•†æ˜¯å“ªå®¶ï¼Ÿ**
   - é˜¿é‡Œäº‘ / è…¾è®¯äº‘ / AWS / åŽä¸ºäº‘ / å…¶ä»–

2. **ä½ æ˜¯å¦çŸ¥é“rootå¯†ç ï¼Ÿ**
   - çŸ¥é“ â†’ ç”¨æ–¹æ¡ˆ2
   - ä¸çŸ¥é“ â†’ ç»§ç»­

3. **ä½ æ˜¯å¦æœ‰GitHubè´¦å·ï¼Ÿ**
   - æœ‰ â†’ ç”¨æ–¹æ¡ˆ5ï¼ˆæŽ¨èï¼‰
   - æ²¡æœ‰ â†’ å¯ä»¥çŽ°åœ¨æ³¨å†Œä¸€ä¸ªï¼ˆå…è´¹ï¼‰

4. **ä½ èƒ½å¦è®¿é—®äº‘æœåŠ¡å•†æŽ§åˆ¶å°ï¼Ÿ**
   - èƒ½ â†’ ç”¨æ–¹æ¡ˆ1æˆ–æ–¹æ¡ˆ4
   - ä¸èƒ½ â†’ éœ€è¦å…ˆèŽ·å–è®¿é—®æƒé™

---

## ðŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆå¦‚æžœé€‰æ‹©Gitæ–¹æ¡ˆï¼‰

å¦‚æžœä½ æƒ³ç”¨Gitéƒ¨ç½²ï¼Œæˆ‘å¯ä»¥å¸®ä½ ï¼š
1. åˆå§‹åŒ–Gitä»“åº“
2. æŽ¨é€åˆ°GitHub
3. æä¾›åœ¨æœåŠ¡å™¨ä¸Šçš„éƒ¨ç½²å‘½ä»¤

åªéœ€è¦å‘Šè¯‰æˆ‘ä½ çš„GitHubç”¨æˆ·åï¼ˆæˆ–è€…æˆ‘å¸®ä½ æ³¨å†Œä¸€ä¸ªï¼‰ï¼

---

## ðŸ“ž éœ€è¦å¸®åŠ©

å‘Šè¯‰æˆ‘ï¼š
- äº‘æœåŠ¡å•†æ˜¯å“ªå®¶ï¼Ÿ
- å€¾å‘äºŽç”¨å“ªä¸ªæ–¹æ¡ˆï¼Ÿ
- é‡åˆ°äº†ä»€ä¹ˆå…·ä½“é—®é¢˜ï¼Ÿ

æˆ‘ä¼šç»§ç»­ååŠ©ä½ å®Œæˆéƒ¨ç½²ï¼
